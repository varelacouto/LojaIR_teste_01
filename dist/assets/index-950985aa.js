(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}})();const d=[{id:"1",marca:"Instituto Recriar",nome:"Medalha de SÃ£o Bento Frente",preco:50,imagem:"product-01.jpeg",religioso:!0},{id:"2",marca:"Instituto Recriar",nome:"Casinha de Incenso",preco:50,imagem:"product-02.jpeg",religioso:!1},{id:"3",marca:"Instituto Recriar",nome:"Nossa Senhora",preco:150,imagem:"product-03.jpeg",religioso:!0},{id:"4",marca:"Instituto Recriar",nome:"Escultura de Nosso Senhor",preco:300,imagem:"product-04.jpeg",religioso:!0},{id:"5",marca:"Instituto Recriar",nome:"Cruz de Nosso Senhor",preco:300,imagem:"product-05.jpeg",religioso:!0},{id:"6",marca:"Instituto Recriar",nome:"Abajur de Garrafa",preco:30,imagem:"product-06.jpeg",religioso:!1},{id:"7",marca:"Instituto Recriar",nome:"Porta Chaves",preco:30,imagem:"product-07.jpeg",religioso:!1},{id:"8",marca:"Instituto Recriar",nome:"Cruz",preco:150,imagem:"product-08.jpeg",religioso:!0}];function l(e,o){localStorage.setItem(e,JSON.stringify(o))}function E(e){return JSON.parse(localStorage.getItem(e))}const r=E("carrinho")??{};function b(){document.getElementById("carrinho").classList.add("right-[0px]"),document.getElementById("carrinho").classList.remove("right-[-360px]")}function C(){document.getElementById("carrinho").classList.remove("right-[0px]"),document.getElementById("carrinho").classList.add("right-[-360px]")}function I(){Object.keys(r).length!=0&&(window.location.href=window.location.origin+"/checkout.html")}function x(){const e=document.getElementById("fechar-carrinho"),o=document.getElementById("abrir-carrinho"),i=document.getElementById("finalizar-compra");e.addEventListener("click",C),o.addEventListener("click",b),i.addEventListener("click",I)}function g(e){delete r[e],l("carrinho",r),s(),y()}function p(e){r[e]++,l("carrinho",r),s(),f(e)}function v(e){if(r[e]===1){g(e);return}r[e]--,l("carrinho",r),s(),f(e)}function f(e){document.getElementById(`quantidade-${e}`).innerText=r[e]}function h(e){const o=d.find(c=>c.id===e),i=document.getElementById("produtos-carrinho"),a=document.createElement("article"),t=["flex","bg-sky-100","rounded-lg","p-1","relative"];for(const c of t)a.classList.add(c);const n=`
        <button id="remover-item-${o.id}" class=" absolute top-0 right-3"><i class="fa-brands fa-xbox text-xs hover:text-red-500"></i></button>
        <img src="./assets/img/${o.imagem}" alt="Carrinho: ${o.nome}" class="h-24 rounded-lg">
        <div class="p-2 flex flex-col justify-between">
          <p class="text-sm">${o.nome}</p>
          <p class="text-xs">Tamanho: 50cm x 50cm</p>
          <p class="text-lg">R$${o.preco}</p>
        </div>
        <div class="flex items-end absolute bottom-0 right-3 text-lg">
            <button id="decrementar-produto-${o.id}">-</button>
            <p id="quantidade-${o.id}" class="ml-2">${r[o.id]}</p>
            <button class="ml-2" id="incrementar-produto-${o.id}">+</button>
        </div>
    `;a.innerHTML=n,i.appendChild(a),document.getElementById(`decrementar-produto-${o.id}`).addEventListener("click",()=>v(o.id)),document.getElementById(`incrementar-produto-${o.id}`).addEventListener("click",()=>p(o.id)),document.getElementById(`remover-item-${o.id}`).addEventListener("click",()=>g(o.id))}function y(){const e=document.getElementById("produtos-carrinho");e.innerHTML="";for(const o in r)h(o)}function L(e){if(e in r){p(e);return}r[e]=1,l("carrinho",r),s(),h(e)}function s(){const e=document.getElementById("preco-total");let o=0;for(const i in r)o+=d.find(a=>a.id===i).preco*r[i];e.innerText=`Total: R$${o}`}function $(){for(const e of d){const o=`
        <div class="border-solid w-52 m-2 flex flex-col p-2 justify-between shadow-xl shadow-slate-400 rounded-lg group ${e.religioso?"religioso":"decoracao"}" id="card-produto-${e.id}">
        <img src="./assets/img/${e.imagem}" alt="Produto 1 do Recriar" class="group-hover:scale-110 duration-300 my-3 rounded-lg">
        <p class="text-sm">${e.marca}</p>
        <p class="text-sm">${e.nome}</p>
        <p class="text-sm">R$${e.preco}</p>
            <button id="adicionar-${e.id}" class="bg-blue-900 hover:bg-sky-500 text-white"><i class="fa-solid fa-cart-plus"></i></button>
        </div>
        `;document.getElementById("container-produto").innerHTML+=o}for(const e of d)document.getElementById(`adicionar-${e.id}`).addEventListener("click",()=>L(e.id))}const u=document.getElementById("container-produto");function m(){const e=Array.from(u.getElementsByClassName("hidden"));for(const o of e)o.classList.remove("hidden")}function B(){m();const e=Array.from(u.getElementsByClassName("religioso"));for(const o of e)o.classList.add("hidden")}function R(){m();const e=Array.from(u.getElementsByClassName("decoracao"));for(const o of e)o.classList.add("hidden")}function N(){document.getElementById("exibir-todos").addEventListener("click",m),document.getElementById("exibir-religioso").addEventListener("click",R),document.getElementById("exibir-decoracao").addEventListener("click",B)}$();x();y();s();N();
